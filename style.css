:root {
  --bg: #fff9f2;
  --card: #ffffff;
  --text: #22243a;
  --muted: #6b7280;
  --primary: #ff8a00; /* オレンジ */
  --primary-dark: #ff6a00;
  --success: #16a34a;
  --danger: #ef4444;
  --shadow: 0 10px 26px rgba(0,0,0,0.12);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Yu Gothic", "Noto Sans JP", sans-serif;
  color: var(--text);
  background:
    radial-gradient(circle at 10% 10%, rgba(255, 235, 153, 0.45) 0 40px, transparent 41px),
    radial-gradient(circle at 80% 20%, rgba(255, 180, 220, 0.45) 0 34px, transparent 35px),
    radial-gradient(circle at 30% 80%, rgba(170, 220, 255, 0.45) 0 36px, transparent 37px),
    linear-gradient(120deg, #fff3cc, #ffe5f7 45%, #e6f9ff 85%);
}

.app {
  max-width: 820px;
  margin: 0 auto;
  padding: 16px;
}

.app__header {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
}

h1 {
  font-size: 1.9rem;
  margin: 8px 0;
  letter-spacing: 0.5px;
  color: var(--text);
  background: var(--card);
  border: 1px solid #e5e7eb;
  padding: 6px 12px;
  border-radius: 14px;
  box-shadow: var(--shadow);
  text-align: center;
}

.controls {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--card);
  padding: 8px 12px;
  border-radius: 16px;
  box-shadow: var(--shadow);
}

select, .btn {
  font-size: 1rem;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid #d6d9e0;
}

.btn {
  background: linear-gradient(135deg, #ffb86b, #ff7a50);
  color: #fff;
  border: none;
  cursor: pointer;
  box-shadow: 0 6px 0 rgba(0,0,0,0.08);
  transition: transform 0.05s ease, filter 0.2s ease;
}
.btn:hover { filter: brightness(1.05); }
.btn:active { transform: translateY(1px); box-shadow: 0 4px 0 rgba(0,0,0,0.08); }

.stage {
  margin-top: 16px;
  background: var(--card);
  border-radius: 22px;
  padding: 16px 16px 20px;
  box-shadow: var(--shadow);
}

.question {
  font-size: 1.4rem;
  text-align: center;
  margin: 6px 0 12px;
}

.clock-wrap {
  position: relative;
  width: min(92vw, 340px);
  margin: 0 auto 14px;
  padding: 14px;
  border-radius: 28px;
  background: radial-gradient(circle at 40% 30%, #fff 0 55%, #f7fbff);
  box-shadow: 0 10px 0 rgba(0,0,0,0.06), var(--shadow);
}
.clock-wrap::before {
  content: "";
  position: absolute;
  inset: -10px;
  border-radius: 32px;
  background: conic-gradient(
    #ff9a9e, #fad0c4, #fbc2eb, #a1c4fd, #c2ffd8, #ffe29f, #ff9a9e
  );
  -webkit-mask: radial-gradient(closest-side, transparent calc(100% - 14px), #000 calc(100% - 13px));
          mask: radial-gradient(closest-side, transparent calc(100% - 14px), #000 calc(100% - 13px));
  z-index: 1;
}
.clock-wrap canvas#clock {
  display: block;
  width: 100%;
  height: auto;
  position: relative;
  z-index: 2;
}
.decor {
  position: absolute;
  user-select: none;
  pointer-events: none;
  font-size: 1.6rem;
  animation: float 4s ease-in-out infinite;
}
.decor--star { top: -8px; left: -4px; rotate: -12deg; animation-delay: -0.5s; }
.decor--heart { bottom: -10px; right: -2px; rotate: 8deg; animation-delay: -1.2s; }
.decor--balloon { top: -18px; right: 18px; rotate: 6deg; animation-delay: -0.9s; }
.decor--music { bottom: -18px; left: 10px; rotate: -6deg; animation-delay: -1.6s; }
.decor--rainbow { top: 50%; left: -22px; transform: translateY(-50%); animation-delay: -2.0s; }

/* 問題切替時のポップアニメ */
.clock-wrap.pop { animation: pop 360ms ease-out; }

.choices {
  display: grid;
  grid-template-columns: repeat(2, minmax(140px, 1fr));
  gap: 12px;
  max-width: 520px;
  margin: 0 auto;
}

.choice-btn {
  font-size: 1.25rem;
  padding: 14px 16px;
  border-radius: 16px;
  border: 2px solid transparent;
  cursor: pointer;
  color: #0a2a5e;
  background: linear-gradient(135deg, #e8f0ff, #f4e8ff);
  box-shadow: 0 6px 0 rgba(0,0,0,0.06);
  transition: transform 0.06s ease, background 0.2s ease, border 0.2s ease, filter 0.2s ease;
}
.choice-btn:hover { transform: translateY(-1px); filter: brightness(1.03); }
.choice-btn:active { transform: translateY(1px) scale(0.99); box-shadow: 0 4px 0 rgba(0,0,0,0.06); }
.choice-btn:nth-child(1) { background: linear-gradient(135deg, #ffefd6, #ffd8e1); }
.choice-btn:nth-child(2) { background: linear-gradient(135deg, #e6f8ff, #e9ffe9); }
.choice-btn:nth-child(3) { background: linear-gradient(135deg, #fff3d1, #e8f0ff); }
.choice-btn:nth-child(4) { background: linear-gradient(135deg, #ffe6f7, #fff1d6); }
.choice-btn.correct { background: #e8fff0; border-color: var(--success); animation: pop 300ms ease; }
.choice-btn.wrong { background: #fff0f0; border-color: var(--danger); animation: wiggle 360ms ease; }

.status { margin-top: 12px; display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.feedback { min-height: 1.8em; font-weight: 800; font-size: 1.15rem; letter-spacing: 0.5px; }
.feedback.ok { color: var(--success); animation: pop 300ms ease; }
.feedback.ng { color: var(--danger); animation: pop 300ms ease; }
.progress { color: var(--muted); display: flex; gap: 16px; }

@media (max-width: 480px) {
  .choice-btn { font-size: 1.15rem; padding: 12px 14px; }
}

/* かわいい動き */
@keyframes pop { 0% { transform: scale(0.92); } 60% { transform: scale(1.06); } 100% { transform: scale(1); } }
@keyframes wiggle {
  0% { transform: rotate(0deg); }
  20% { transform: rotate(-5.5deg); }
  50% { transform: rotate(3.5deg); }
  80% { transform: rotate(-2deg); }
  100% { transform: rotate(0deg); }
}
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0px); }
}
